import{_ as v,e as f,o,c as r,F as y,r as U,R as L,W as N,a as t,t as l,Q as I,b as _,H as j,d as V,f as u,g as a,U as $,w as k,p as P,h as D}from"./index.85dc0df9.js";import{U as w}from"./User.service.7302a2fc.js";const q={data(){return{toasts:{title:"",msg:"",type:"",duration:0}}},props:{users:Array,refeshlist:Function,activeUser:{type:Number,default:-1}},emits:["update:activeUser"],methods:{toastjs:f,async deluser(s){try{await w.delete(s),this.refeshlist(),this.toasts.title="Success",this.toasts.msg="\u0110\xE3 x\xF3a ng\u01B0\u1EDDi d\xF9ng",this.toasts.type="success",this.toasts.duration=2e3,this.toastjs()}catch(e){console.log(e),this.toasts.title="Warning",this.toasts.msg="T\xE0i kho\u1EA3n kh\xF4ng ph\u1EA3i ADMIN",this.toasts.type="warn",this.toasts.duration=2e3,this.toastjs()}},updateuserindex(s){this.$emit("update:activeUser",s)}}},B={class:"list-group"},H=["onClick"],E=["onClick"];function F(s,e,n,m,c,i){return o(),r("ul",B,[(o(!0),r(y,null,U(n.users,(d,p)=>L((o(),r("li",{class:"list-group-item user-item d-flex justify-content-between",key:d._id,onClick:g=>i.updateuserindex(p)},[t("span",null,l(d.username),1),t("button",{class:"btn btn-outline-danger btn-sm",onClick:g=>i.deluser(d._id)},"X",8,E)],8,H)),[[N,!d.isAdmin]])),128))])}var M=v(q,[["render",F],["__scopeId","data-v-dc371832"]]);const T={data(){return{toasts:{title:"",msg:"",type:"",duration:0}}},props:{products:Array,refeshlist:Function,activeIndex:{type:Number,default:-1}},emits:["update:activeIndex"],methods:{toastjs:f,async delproduct(s){try{await I.delete(s),this.refeshlist(),this.toasts.title="Success",this.toasts.msg="\u0110\xE3 x\xF3a ng\u01B0\u1EDDi d\xF9ng",this.toasts.type="success",this.toasts.duration=2e3,this.toastjs()}catch(e){console.log(e),this.toasts.title="Warning",this.toasts.msg="B\u1EA1n ch\u01B0a \u0111\u0103ng nh\u1EADp ho\u1EB7c b\u1EA1n kh\xF4ng ph\u1EA3i ADMIN",this.toasts.type="warn",this.toasts.duration=2e3,this.toastjs()}},updateActiveIndex(s){this.$emit("update:activeIndex",s)}}},W={class:"list-group"},z=["onClick"],O=["onClick"];function Q(s,e,n,m,c,i){return o(),r("ul",W,[(o(!0),r(y,null,U(n.products,(d,p)=>(o(),r("li",{class:"list-group-item product-item d-flex justify-content-between",key:d._id,onClick:g=>i.updateActiveIndex(p)},[t("span",null,l(d.title),1),t("button",{class:"btn btn-outline-danger btn-sm",onClick:g=>i.delproduct(d._id)},"X",8,O)],8,z))),128))])}var X=v(T,[["render",Q],["__scopeId","data-v-1c84a24d"]]);const R={props:{products:{type:Object,required:!0}}},G={class:"d-flex"},J={class:"p-1 d-fex flex-column"},K=["src"],Y={class:"p-1"},Z=t("strong",null,"Category:",-1),tt={class:"p-1"},st=t("strong",null,"Price :",-1),et={class:"p-1"},it=t("strong",null,"Color:",-1),nt={class:"p-1"},ot=t("strong",null,"Size:",-1);function rt(s,e,n,m,c,i){return o(),r("div",G,[t("div",J,[t("img",{src:n.products.img[0],alt:"img",width:"100"},null,8,K)]),t("div",null,[t("div",Y,[Z,_(" "+l(n.products.categories),1)]),t("div",tt,[st,_(" "+l(n.products.price),1)]),t("div",et,[it,_(" "+l(n.products.color),1)]),t("div",nt,[ot,_(" "+l(n.products.size),1)])])])}var ct=v(R,[["render",rt]]);const dt={props:{users:{type:Object,required:!0}}},at={class:"d-flex"},lt={class:"p-1"},ut=t("strong",null,"Username:",-1),_t={class:"p-1"},ht=t("strong",null,"Email :",-1),pt={class:"p-1"},gt=t("strong",null,"Admin:",-1),vt={key:0,class:"bi bi-check text-success"},mt={key:1,class:"bi bi-x text-danger"};function xt(s,e,n,m,c,i){return o(),r("div",at,[t("div",null,[t("div",lt,[ut,_(" "+l(n.users.username),1)]),t("div",_t,[ht,_(" "+l(n.users.email),1)]),t("div",pt,[gt,n.users.isAdmin?(o(),r("i",vt)):(o(),r("i",mt))])])])}var ft=v(dt,[["render",xt]]);const yt={data(){return{users:[],products:[],activeIndex:-1,activeUser:-1,toasts:{title:"Warning",msg:"B\u1EA1n kh\xF4ng ph\u1EA3i ADMIN",type:"warn",duration:3e3}}},computed:{getindex(){if(this.activeIndex!=-1){const s=document.querySelectorAll(".product-item");return s.forEach(e=>{e.classList.remove("active")}),s[this.activeIndex].classList.add("active"),this.products[this.activeIndex]}},getindexuser(){if(this.activeUser!=-1){const s=document.querySelectorAll(".user-item");return s.forEach(e=>{e.classList.remove("active")}),s[this.activeUser].classList.add("active"),this.users[this.activeUser]}}},components:{HeaderShopVue:j,ListUser:M,ListProduct:X,toastsVue:V,Productcard:ct,Usercard:ft},methods:{toast:f,async getall(){try{this.products=await I.getAll(),this.users=await w.getAll()}catch(s){console.log(s),this.toast(),setTimeout(()=>{this.$router.push({name:"ShopMain"})},1e3)}}},created(){this.getall()}},h=s=>(P("data-v-368b0a77"),s=s(),D(),s),bt=h(()=>t("div",{class:"header text-center"},[t("h2",null,"Qu\u1EA3n tr\u1ECB vi\xEAn")],-1)),$t={class:"main_admin d-flex",style:{"margin-top":"30px","margin-left":"100px"}},kt={class:"list_users w-50"},Ut=h(()=>t("div",{class:"user_heading"},[t("h4",null,"Danh S\xE1ch Ng\u01B0\u1EDDi d\xF9ng")],-1)),It={class:"list_item_user d-flex",id:"user"},wt={key:0,class:"card_product border border-light border-2 h-100 bg-light text-dark",style:{padding:"10px"}},St=h(()=>t("h5",null,"Chi ti\u1EBFt ng\u01B0\u1EDDi d\xF9ng",-1)),At={class:"list_products"},Ct=h(()=>t("div",{class:"product_heading"},[t("h4",null,"Danh S\xE1ch Ng\u01B0\u1EDDi d\xF9ng")],-1)),Lt={class:"list_item_product d-flex",id:"product"},Nt={key:0,class:"card_product border border-light border-2 h-100 bg-light text-dark",style:{padding:"10px"}},jt=h(()=>t("h5",null,"Chi ti\u1EBFt s\u1EA3n ph\u1EA9m",-1)),Vt=h(()=>t("span",{class:"badge bg-warning text-dark"},[t("i",{class:"bi bi-pencil-square"}),_(" Hi\u1EC7u ch\u1EC9nh")],-1)),Pt=h(()=>t("button",{class:"btn btn-danger"},"Th\xEAm S\u1EA3n ph\u1EA9m",-1));function Dt(s,e,n,m,c,i){const d=u("HeaderShopVue"),p=u("toastsVue"),g=u("ListUser"),S=u("Usercard"),A=u("ListProduct"),C=u("Productcard"),b=u("router-link");return o(),r(y,null,[a(d),a(p),bt,t("div",$t,[t("div",kt,[Ut,t("div",It,[a(g,{users:c.users,refeshlist:i.getall,activeUser:c.activeUser,"onUpdate:activeUser":e[0]||(e[0]=x=>c.activeUser=x)},null,8,["users","refeshlist","activeUser"]),i.getindexuser?(o(),r("div",wt,[St,a(S,{users:i.getindexuser},null,8,["users"])])):$("",!0)])]),t("div",At,[Ct,t("div",Lt,[a(A,{products:c.products,refeshlist:i.getall,getindex:i.getindex,activeIndex:c.activeIndex,"onUpdate:activeIndex":e[1]||(e[1]=x=>c.activeIndex=x)},null,8,["products","refeshlist","getindex","activeIndex"]),i.getindex?(o(),r("div",Nt,[jt,a(C,{products:i.getindex},null,8,["products"]),a(b,{to:{name:"editproduct",params:{id:i.getindex._id}}},{default:k(()=>[Vt]),_:1},8,["to"])])):$("",!0)]),a(b,{to:"/addproduct"},{default:k(()=>[Pt]),_:1})])])],64)}var Ht=v(yt,[["render",Dt],["__scopeId","data-v-368b0a77"]]);export{Ht as default};
